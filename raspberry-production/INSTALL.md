# üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ Raspberry Pi

–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –∑–∞–ø—É—Å–∫—É Web Server Interceptor –Ω–∞ Raspberry Pi.

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Raspberry Pi 4** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 4GB RAM –∏–ª–∏ –±–æ–ª—å—à–µ)
- **Raspberry Pi OS (64-bit)** - Bullseye –∏–ª–∏ –Ω–æ–≤–µ–µ
- **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ**
- **SSH –¥–æ—Å—Ç—É–ø** (–¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏)

## üéØ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –°–ø–æ—Å–æ–± 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∑ git

```bash
# –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å git URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
curl -fsSL https://github.com/Gr3y-foX/web-interogatter/web-server-intercepter/master/raspberry-production/install_and_run.sh | bash -s -- https://github.com/Gr3y-foX/web-interogatter

# –ò–ª–∏ –∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ
git clone https://github.com/Gr3y-foX/web-interogatter ~/web-server-intercepter
cd ~/web-server-intercepter/raspberry-production
chmod +x install_and_run.sh
./install_and_run.sh
```

### –°–ø–æ—Å–æ–± 2: –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç —É–∂–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω

```bash
cd ~/web-server-intercepter/raspberry-production
./install_and_run.sh
```

–°–∫—Ä–∏–ø—Ç `install_and_run.sh` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. ‚úÖ –û–±–Ω–æ–≤–∏—Ç –ø—Ä–æ–µ–∫—Ç –∏–∑ git (–∏–ª–∏ –∫–ª–æ–Ω–∏—Ä—É–µ—Ç, –µ—Å–ª–∏ –Ω–µ—Ç)
2. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
3. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç Docker –∏ Docker Compose
4. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
5. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç –ø—Ä–æ–µ–∫—Ç
6. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–µ—Ä

## üìñ –î–µ—Ç–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Raspberry Pi

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑–æ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
sudo apt install -y git curl wget
```

### –®–∞–≥ 2: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd ~

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/Gr3y-foX/web-interogatter
cd web-server-intercepter/raspberry-production
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x install_and_run.sh

# –ó–∞–ø—É—Å–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
./install_and_run.sh
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –£—Å–∏–ª–µ–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
sudo ./setup_security.sh

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ firewall
sudo ./setup_production_firewall.sh 5000
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
cd ~/web-server-intercepter/raspberry-production
./install_and_run.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–æ—Ö—Ä–∞–Ω–∏—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ stash (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –û–±–Ω–æ–≤–∏—Ç –ø—Ä–æ–µ–∫—Ç –∏–∑ git
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–µ—Ä

### –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
cd ~/web-server-intercepter

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–µ—Å–ª–∏ –µ—Å—Ç—å)
git stash

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ git
git pull origin master

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
cd raspberry-production
./raspberry-run.sh restart
```

## üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–º

### –ó–∞–ø—É—Å–∫ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
cd ~/web-server-intercepter/raspberry-production

# –ó–∞–ø—É—Å–∫
./raspberry-run.sh start

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
./raspberry-run.sh stop

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
./raspberry-run.sh restart

# –°—Ç–∞—Ç—É—Å
./raspberry-run.sh status
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –í—Å–µ –ª–æ–≥–∏
./raspberry-run.sh logs

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
./raspberry-run.sh logs interceptor
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
./monitor_security.sh

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
./raspberry-run.sh monitor
```

## üåê –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω:

- **–õ–æ–∫–∞–ª—å–Ω–æ**: `http://localhost:5000`
- **–í —Å–µ—Ç–∏**: `http://[IP-–∞–¥—Ä–µ—Å]:5000`
- **Tor Hidden Service**: `http://[onion-–∞–¥—Ä–µ—Å]` (–ø–æ–ª—É—á–∏—Ç—å: `./raspberry-run.sh onion`)

–£–∑–Ω–∞—Ç—å IP –∞–¥—Ä–µ—Å:
```bash
hostname -I
```

## üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ë–∞–∑–æ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

```bash
# –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
passwd

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –∫–ª—é—á–µ–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
ssh-keygen -t ed25519
```

### –£—Å–∏–ª–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞

```bash
# –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
sudo ./setup_security.sh

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ firewall
sudo ./setup_production_firewall.sh 5000
```

–≠—Ç–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç:
- fail2ban (–∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞)
- –£—Å–∏–ª–µ–Ω–Ω—ã–π firewall
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: Git –Ω–µ –º–æ–∂–µ—Ç –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
ping -c 3 8.8.8.8

# –ü—Ä–æ–≤–µ—Ä–∫–∞ git
git --version

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ git
sudo apt install -y git
```

### –ü—Ä–æ–±–ª–µ–º–∞: Docker –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker
docker --version

# –ó–∞–ø—É—Å–∫ Docker
sudo systemctl start docker
sudo systemctl enable docker

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤
groups $USER
# –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≥—Ä—É–ø–ø–∞ 'docker'
# –ï—Å–ª–∏ –Ω–µ—Ç: sudo usermod -aG docker $USER
# –ò –ø–µ—Ä–µ–∑–∞–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç

```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å
sudo lsof -i :5000

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
sudo kill -9 [PID]
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞–º—è—Ç–∏
free -h

# –£–≤–µ–ª–∏—á–µ–Ω–∏–µ swap
sudo dphys-swapfile swapoff
sudo nano /etc/dphys-swapfile
# CONF_SWAPSIZE=2048
sudo dphys-swapfile setup
sudo dphys-swapfile swapon
```

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [README.md](README.md)
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**: [setup_security.sh](setup_security.sh)
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: [monitor_security.sh](monitor_security.sh)

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. ‚ö†Ô∏è **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SSH –¥–æ—Å—Ç—É–ø–µ–Ω** –ø–µ—Ä–µ–¥ –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π firewall
2. ‚ö†Ô∏è **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Tor Hidden Service** –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
3. ‚ö†Ô∏è **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–∏—Å—Ç–µ–º—É**: `sudo apt update && sudo apt upgrade`
4. ‚ö†Ô∏è **–î–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–ø–∏–∏ –≤ `/var/backups/web-interceptor/`

---

**üéì –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø–æ –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**  
*–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∑–∞–∫–æ–Ω–∞–º–∏*

