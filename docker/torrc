# Tor Configuration for Web Server Interceptor Docker Container

# SOCKS прокси
SocksPort 0.0.0.0:9050

# Control порт
ControlPort 0.0.0.0:9051
HashedControlPassword 16:872860B76453A77D60CA2BB8C1A7042072093276A3D701AD684053EC4C

# Директории данных и логов
DataDirectory /var/lib/tor-interceptor
Log notice file /app/logs/tor.log

# Hidden Service конфигурация
HiddenServiceDir /var/lib/tor-interceptor/hidden_service/
HiddenServicePort 80 127.0.0.1:5000
HiddenServiceVersion 3

# Настройки безопасности
ExitPolicy reject *:*
ExitRelay 0
PublishServerDescriptor 0

# Настройки производительности
NumCPUs 2
MaxCircuitDirtiness 600
NewCircuitPeriod 30
MaxClientCircuitsPending 32

# Дополнительные настройки для Docker
RunAsDaemon 0
PidFile /tmp/tor.pid

# Настройки подключений
SocksTimeout 30
ClientTransportPlugin obfs4 exec /usr/bin/obfs4proxy

# Исключение определенных стран (опционально)
# ExcludeExitNodes {us},{ca},{au},{nz},{gb}
# StrictNodes 1

# Настройки для улучшения анонимности
EnforceDistinctSubnets 1
FascistFirewall 0
UseBridges 0

# Отключение статистики
DisableStatistics 1
DirReqStatistics 0
EntryStatistics 0
ExitPortStatistics 0
